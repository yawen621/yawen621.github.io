<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="2020年前端面试复习必读精选文章(2), 程序员随笔记">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48">
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7">
    <meta name="description" content="
关注微信号【路飞】，干货马上就来！


前言给大家整理了一下每个 case 一些还算不错的文章吧（还包括一些躺在我收藏夹里的好文章），大家可以自己看文章总结一下答案，这样也会理解更深刻。
并不是所有文章都需要看，希望是一个抛砖引玉的作用，">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>2020年前端面试复习必读精选文章(2) | 亚文的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">亚文的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">亚文的博客</div>
        <div class="logo-desc">
            
            成都理工大学 | 计算机
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://yawen621.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://yawen621.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        2020年前端面试复习必读精选文章(2)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/web前端/" target="_blank">
                            <span class="chip bg-color">web前端</span>
                        </a>
                        
                        <a href="/tags/面试/" target="_blank">
                            <span class="chip bg-color">面试</span>
                        </a>
                        
                        <a href="/tags/css/" target="_blank">
                            <span class="chip bg-color">css</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/前端/" class="post-category" target="_blank">
                            前端
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-10-29
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    亚文
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    17.6k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    67 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<p>关注微信号【路飞】，干货马上就来！</p>
</blockquote>
<p><img src="/medias/contact.jpg" alt></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>给大家整理了一下每个 case 一些还算不错的文章吧（还包括一些躺在我收藏夹里的好文章），大家可以自己看文章总结一下答案，这样也会理解更深刻。</p>
<p><strong>并不是所有文章都需要看</strong>，希望是一个抛砖引玉的作用，大家也可以锻炼一下自己寻找有效资料的能力 ~</p>
<p>( 文章排序不分前后，随机排序 ~)<br><img src="css.jpg" alt></p>
<h1 id="1-1-position"><a href="#1-1-position" class="headerlink" title="1.1 position"></a>1.1 position</h1><hr>
<p>CSS 有两个最重要的基本属性，前端开发必须掌握：display 和 position。</p>
<p>display属性指定网页的布局。两个重要的布局，我已经介绍过了：弹性布局flex和网格布局grid。</p>
<p>本文介绍非常有用的position属性。我希望通过10分钟的阅读，帮助大家轻松掌握网页定位，说清楚浏览器如何计算网页元素的位置，尤其是新引进的sticky定位。<br><img src="position.png" alt></p>
<h2 id="一、position-属性的作用"><a href="#一、position-属性的作用" class="headerlink" title="一、position 属性的作用"></a>一、position 属性的作用</h2><p>position属性用来指定一个元素在网页上的位置，一共有5种定位方式，即position属性主要有五个值。</p>
<blockquote>
<ul>
<li>static</li>
<li>relative</li>
<li>fixed</li>
<li>absolute</li>
<li>sticky</li>
</ul>
</blockquote>
<p>下面就依次介绍这五个值。最后一个sticky是2017年浏览器才支持的，本文将重点介绍。</p>
<h2 id="二、static-属性值"><a href="#二、static-属性值" class="headerlink" title="二、static 属性值"></a>二、static 属性值</h2><p>static是position属性的默认值。如果省略position属性，浏览器就认为该元素是static定位。<br>这时，浏览器会按照源码的顺序，决定每个元素的位置，这称为”正常的页面流”（normal flow）。每个块级元素占据自己的区块（block），元素与元素之间不产生重叠，这个位置就是元素的默认位置。<br><img src="position1.png" alt><br>注意，static定位所导致的元素位置，是浏览器自主决定的，所以这时top、bottom、left、right这四个属性无效。</p>
<h2 id="三、relative，absolute，fixed"><a href="#三、relative，absolute，fixed" class="headerlink" title="三、relative，absolute，fixed"></a>三、relative，absolute，fixed</h2><p>relative、absolute、fixed这三个属性值有一个共同点，都是相对于某个基点的定位，不同之处仅仅在于基点不同。所以，只要理解了它们的基点是什么，就很容易掌握这三个属性值。</p>
<p>这三种定位都不会对其他元素的位置产生影响，因此元素之间可能产生重叠。</p>
<h3 id="3-1-relative-属性值"><a href="#3-1-relative-属性值" class="headerlink" title="3.1 relative 属性值"></a>3.1 relative 属性值</h3><p>relative表示，相对于默认位置（即static时的位置）进行偏移，即定位基点是元素的默认位置。<br><img src="position2.png" alt><br><img src="position3.png" alt><br>它必须搭配top、bottom、left、right这四个属性一起使用，用来指定偏移的方向和距离。<br><img src="position4.png" alt></p>
<pre class="line-numbers language-cpp"><code class="language-cpp">div <span class="token punctuation">{</span>
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
  top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-2-absolute-属性值"><a href="#3-2-absolute-属性值" class="headerlink" title="3.2 absolute 属性值"></a>3.2 absolute 属性值</h3><p>absolute表示，相对于上级元素（一般是父元素）进行偏移，即定位基点是父元素。</p>
<p>它有一个重要的限制条件：定位基点（一般是父元素）不能是static定位，否则定位基点就会变成整个网页的根元素html。另外，absolute定位也必须搭配top、bottom、left、right这四个属性一起使用。<br><img src="position5.png" alt></p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">/*
  HTML 代码如下
  &lt;div id="father">
    &lt;div id="son">&lt;/div>
  &lt;/div>
*/</span>
<span class="token macro property">#father {</span>
  positon<span class="token operator">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#son {</span>
  position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
  top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面代码中，父元素是relative定位，子元素是absolute定位，所以子元素的定位基点是父元素，相对于父元素的顶部向下偏移20px。如果父元素是static定位，上例的子元素就是距离网页的顶部向下偏移20px。</p>
<p>注意，absolute定位的元素会被”正常页面流”忽略，即在”正常页面流”中，该元素所占空间为零，周边元素不受影响。</p>
<h3 id="3-3-fixed-属性值"><a href="#3-3-fixed-属性值" class="headerlink" title="3.3 fixed 属性值"></a>3.3 fixed 属性值</h3><p>fixed表示，相对于视口（viewport，浏览器窗口）进行偏移，即定位基点是浏览器窗口。这会导致元素的位置不随页面滚动而变化，好像固定在网页上一样。<br><img src="position6.png" alt><br>它如果搭配top、bottom、left、right这四个属性一起使用，表示元素的初始位置是基于视口计算的，否则初始位置就是元素的默认位置。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">div <span class="token punctuation">{</span>
  position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
  top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面代码中，div元素始终在视口顶部，不随网页滚动而变化。</p>
<h2 id="四、sticky-属性值"><a href="#四、sticky-属性值" class="headerlink" title="四、sticky 属性值"></a>四、sticky 属性值</h2><p>sticky跟前面四个属性值都不一样，它会产生动态效果，很像relative和fixed的结合：一些时候是relative定位（定位基点是自身默认位置），另一些时候自动变成fixed定位（定位基点是视口）。</p>
<p>因此，它能够形成”动态固定”的效果。比如，网页的搜索工具栏，初始加载时在自己的默认位置（relative定位）。<br><img src="position7.png" alt><br>页面向下滚动时，工具栏变成固定位置，始终停留在页面头部（fixed定位）。<br><img src="position8.png" alt>等到页面重新向上滚动回到原位，工具栏也会回到默认位置。</p>
<p>sticky生效的前提是，必须搭配top、bottom、left、right这四个属性一起使用，不能省略，否则等同于relative定位，不产生”动态固定”的效果。原因是这四个属性用来定义”偏移距离”，浏览器把它当作sticky的生效门槛。</p>
<p>它的具体规则是，当页面滚动，父元素开始脱离视口时（即部分不可见），只要与sticky元素的距离达到生效门槛，relative定位自动切换为fixed定位；等到父元素完全脱离视口时（即完全不可见），fixed定位自动切换回relative定位。</p>
<p>请看下面的示例代码。（注意，除了已被淘汰的 IE 以外，其他浏览器目前都支持sticky。但是，Safari 浏览器需要加上浏览器前缀-webkit-。）</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#toolbar {</span>
  position<span class="token operator">:</span> <span class="token operator">-</span>webkit<span class="token operator">-</span>sticky<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* safari 浏览器 */</span>
  position<span class="token operator">:</span> sticky<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 其他浏览器 */</span>
  top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上面代码中，页面向下滚动时，#toolbar的父元素开始脱离视口，一旦视口的顶部与#toolbar的距离小于20px（门槛值），#toolbar就自动变为fixed定位，保持与视口顶部20px的距离。页面继续向下滚动，父元素彻底离开视口（即整个父元素完全不可见），#toolbar恢复成relative定位。</p>
<h2 id="五、-sticky-的应用"><a href="#五、-sticky-的应用" class="headerlink" title="五、 sticky 的应用"></a>五、 sticky 的应用</h2><p>sticky定位可以实现一些很有用的效果。除了上面提到”动态固定”效果，这里再介绍两个。</p>
<h3 id="5-1-堆叠效果"><a href="#5-1-堆叠效果" class="headerlink" title="5.1 堆叠效果"></a>5.1 堆叠效果</h3><p>堆叠效果（stacking）指的是页面滚动时，下方的元素覆盖上方的元素。下面是一个图片堆叠的例子，下方的图片会随着页面滚动，覆盖上方的图片（查看 <a href="https://jsbin.com/fegiqoquki/edit?html,css,output" target="_blank" rel="noopener">demo</a>）。<br><img src="position9.png" alt><br>它的原理是页面向下滚动时，每张图片都会变成fixed定位，导致后一张图片重叠在前一张图片上面。详细解释可以看<a href="https://dev.to/vinceumo/slide-stacking-effect-using-position-sticky-91f" target="_blank" rel="noopener">这里</a>。</p>
<h3 id="5-2-表格的表头锁定"><a href="#5-2-表格的表头锁定" class="headerlink" title="5.2 表格的表头锁定"></a>5.2 表格的表头锁定</h3><p>大型表格滚动的时候，表头始终固定，也可以用sticky实现（查看 <a href="https://jsbin.com/decemanohe/edit?html,css,output" target="_blank" rel="noopener">demo</a>）。<br>需要注意的是，sticky必须设在<th>元素上面，不能设在<thead>和<tr>元素，因为这两个元素没有relative定位，也就无法产生sticky效果。详细解释可以看<a href="https://css-tricks.com/position-sticky-and-table-headers/" target="_blank" rel="noopener">这里</a>。</tr></thead></th></p>
<h1 id="1-2-行内元素-块状元素"><a href="#1-2-行内元素-块状元素" class="headerlink" title="1.2 行内元素/块状元素"></a>1.2 行内元素/块状元素</h1><hr>
<p>1.行内元素<br>不会自动换行<br>设置宽高无效<br>设置margin上下方向无效，左右方向有效<br>设置padding上下左右方向都有效<br>常用的元素有：span 、a、b、br、u、ur等等<br>2.块状元素<br>自动换行<br>可以识别宽高<br>设置margin和padding的上下左右均有效<br>多个块状元素标签写在一起，默认排列方式为从上至下<br>3.行内块状元素<br>不会自动换行<br>可以识别宽高<br>默认排列方式为从左到右<br>常用的元素有：img、input、td等        </p>
<h1 id="1-3-flex"><a href="#1-3-flex" class="headerlink" title="1.3 flex"></a>1.3 flex</h1><hr>
<p>网页布局（layout）是 CSS 的一个重点应用。<br><img src="flex.png" alt><br>布局的传统解决方案，基于<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model" target="_blank" rel="noopener">盒状模型</a>，依赖 display 属性 + position属性 + float属性。它对于那些特殊布局非常不方便，比如，<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="noopener">垂直居中</a>就不容易实现。<br><img src="flex1.png" alt><br>2009年，W3C 提出了一种新的方案—-Flex 布局，可以简便、完整、响应式地实现各种页面布局。目前，它已经得到了所有浏览器的支持，这意味着，现在就能很安全地使用这项功能。<br><img src="flex2.png" alt></p>
<h2 id="介绍下flex布局"><a href="#介绍下flex布局" class="headerlink" title="介绍下flex布局"></a>介绍下flex布局</h2><p>Flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<p>任何一个容器都可以指定为 Flex 布局。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box<span class="token punctuation">{</span>
  display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//行内元素也可以使用 Flex 布局。</span>
<span class="token punctuation">.</span>box<span class="token punctuation">{</span>
  display<span class="token operator">:</span> <span class="token keyword">inline</span><span class="token operator">-</span>flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//Webkit 内核的浏览器，必须加上-webkit前缀。</span>
<span class="token punctuation">.</span>box<span class="token punctuation">{</span>
  display<span class="token operator">:</span> <span class="token operator">-</span>webkit<span class="token operator">-</span>flex<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* Safari */</span>
  display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
注意，设为 Flex 布局以后，子元素的<span class="token keyword">float</span>、clear和vertical<span class="token operator">-</span>align属性将失效。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="二、基本概念"><a href="#二、基本概念" class="headerlink" title="二、基本概念"></a>二、基本概念</h2><p>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。<br><img src="flex3.png" alt><br>容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做main start，结束位置叫做main end；交叉轴的开始位置叫做cross start，结束位置叫做cross end。</p>
<p>项目默认沿主轴排列。单个项目占据的主轴空间叫做main size，占据的交叉轴空间叫做cross size。</p>
<h2 id="三、容器的属性"><a href="#三、容器的属性" class="headerlink" title="三、容器的属性"></a>三、容器的属性</h2><p>以下6个属性设置在容器上。</p>
<blockquote>
<ul>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>flex-flow</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content</li>
</ul>
</blockquote>
<h3 id="3-1-flex-direction属性"><a href="#3-1-flex-direction属性" class="headerlink" title="3.1 flex-direction属性"></a>3.1 flex-direction属性</h3><p>flex-direction属性决定主轴的方向（即项目的排列方向）。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  flex<span class="token operator">-</span>direction<span class="token operator">:</span> row <span class="token operator">|</span> row<span class="token operator">-</span>reverse <span class="token operator">|</span> column <span class="token operator">|</span> column<span class="token operator">-</span>reverse<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex4.png" alt><br>它可能有4个值。</p>
<blockquote>
<ul>
<li>row（默认值）：主轴为水平方向，起点在左端。</li>
<li>row-reverse：主轴为水平方向，起点在右端。</li>
<li>column：主轴为垂直方向，起点在上沿。</li>
<li>column-reverse：主轴为垂直方向，起点在下沿。</li>
</ul>
</blockquote>
<h3 id="3-2-flex-wrap属性"><a href="#3-2-flex-wrap属性" class="headerlink" title="3.2 flex-wrap属性"></a>3.2 flex-wrap属性</h3><p>默认情况下，项目都排在一条线（又称”轴线”）上。flex-wrap属性定义，如果一条轴线排不下，如何换行。<br><img src="flex5.png" alt><br>它可能取三个值。<br>（1）nowrap（默认）：不换行。<br><img src="flex6.png" alt><br>（2）wrap：换行，第一行在上方。<br><img src="flex7.png" alt><br>（3）wrap-reverse：换行，第一行在下方。<br><img src="flex8.png" alt></p>
<h3 id="3-3-flex-flow"><a href="#3-3-flex-flow" class="headerlink" title="3.3 flex-flow"></a>3.3 flex-flow</h3><p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  flex<span class="token operator">-</span>flow<span class="token operator">:</span> <span class="token operator">&lt;</span>flex<span class="token operator">-</span>direction<span class="token operator">></span> <span class="token operator">||</span> <span class="token operator">&lt;</span>flex<span class="token operator">-</span>wrap<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="3-4-justify-content属性"><a href="#3-4-justify-content属性" class="headerlink" title="3.4 justify-content属性"></a>3.4 justify-content属性</h3><p>justify-content属性定义了项目在主轴上的对齐方式。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>start <span class="token operator">|</span> flex<span class="token operator">-</span>end <span class="token operator">|</span> center <span class="token operator">|</span> space<span class="token operator">-</span>between <span class="token operator">|</span> space<span class="token operator">-</span>around<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex9.png" alt><br>它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。</p>
<blockquote>
<ul>
<li>flex-start（默认值）：左对齐</li>
<li>flex-end：右对齐</li>
<li>center： 居中</li>
<li>space-between：两端对齐，项目之间的间隔都相等。</li>
<li>space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li>
</ul>
</blockquote>
<h3 id="3-5-align-items属性"><a href="#3-5-align-items属性" class="headerlink" title="3.5 align-items属性"></a>3.5 align-items属性</h3><p>align-items属性定义项目在交叉轴上如何对齐。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  align<span class="token operator">-</span>items<span class="token operator">:</span> flex<span class="token operator">-</span>start <span class="token operator">|</span> flex<span class="token operator">-</span>end <span class="token operator">|</span> center <span class="token operator">|</span> baseline <span class="token operator">|</span> stretch<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex10.png" alt><br>它可能取5个值。具体的对齐方式与交叉轴的方向有关，下面假设交叉轴从上到下。</p>
<blockquote>
<ul>
<li>flex-start：交叉轴的起点对齐。</li>
<li>flex-end：交叉轴的终点对齐。</li>
<li>center：交叉轴的中点对齐。</li>
<li>baseline: 项目的第一行文字的基线对齐。</li>
<li>stretch（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。</li>
</ul>
</blockquote>
<h3 id="3-6-align-content属性"><a href="#3-6-align-content属性" class="headerlink" title="3.6 align-content属性"></a>3.6 align-content属性</h3><p>align-content属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  align<span class="token operator">-</span>content<span class="token operator">:</span> flex<span class="token operator">-</span>start <span class="token operator">|</span> flex<span class="token operator">-</span>end <span class="token operator">|</span> center <span class="token operator">|</span> space<span class="token operator">-</span>between <span class="token operator">|</span> space<span class="token operator">-</span>around <span class="token operator">|</span> stretch<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex11.png" alt><br>该属性可能取6个值。</p>
<blockquote>
<ul>
<li>flex-start：与交叉轴的起点对齐。</li>
<li>flex-end：与交叉轴的终点对齐。</li>
<li>center：与交叉轴的中点对齐。</li>
<li>space-between：与交叉轴两端对齐，轴线之间的间隔平均分布。</li>
<li>space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li>
<li>stretch（默认值）：轴线占满整个交叉轴。</li>
</ul>
</blockquote>
<h2 id="四、项目的属性"><a href="#四、项目的属性" class="headerlink" title="四、项目的属性"></a>四、项目的属性</h2><p>以下6个属性设置在项目上。</p>
<blockquote>
<ul>
<li>order</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex-basis</li>
<li>flex</li>
<li>align-self</li>
</ul>
</blockquote>
<h3 id="4-1-order属性"><a href="#4-1-order属性" class="headerlink" title="4.1 order属性"></a>4.1 order属性</h3><p>order属性定义项目的排列顺序。数值越小，排列越靠前，默认为0。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  order<span class="token operator">:</span> <span class="token operator">&lt;</span>integer<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex12.png" alt></p>
<h3 id="4-2-flex-grow属性"><a href="#4-2-flex-grow属性" class="headerlink" title="4.2 flex-grow属性"></a>4.2 flex-grow属性</h3><p>flex-grow属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  flex<span class="token operator">-</span>grow<span class="token operator">:</span> <span class="token operator">&lt;</span>number<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* default 0 */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex13.png" alt><br>如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
<h3 id="4-3-flex-shrink属性"><a href="#4-3-flex-shrink属性" class="headerlink" title="4.3 flex-shrink属性"></a>4.3 flex-shrink属性</h3><p>flex-shrink属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  flex<span class="token operator">-</span>shrink<span class="token operator">:</span> <span class="token operator">&lt;</span>number<span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* default 1 */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex14.png" alt><br>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。</p>
<p>负值对该属性无效。</p>
<h3 id="4-4-flex-basis属性"><a href="#4-4-flex-basis属性" class="headerlink" title="4.4 flex-basis属性"></a>4.4 flex-basis属性</h3><p>flex-basis属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为auto，即项目的本来大小。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  flex<span class="token operator">-</span>basis<span class="token operator">:</span> <span class="token operator">&lt;</span>length<span class="token operator">></span> <span class="token operator">|</span> <span class="token keyword">auto</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* default auto */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>它可以设为跟width或height属性一样的值（比如350px），则项目将占据固定空间。</p>
<h3 id="4-5-flex属性"><a href="#4-5-flex属性" class="headerlink" title="4.5 flex属性"></a>4.5 flex属性</h3><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  flex<span class="token operator">:</span> none <span class="token operator">|</span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span><span class="token string">'flex-grow'</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token string">'flex-shrink'</span><span class="token operator">></span><span class="token operator">?</span> <span class="token operator">||</span> <span class="token operator">&lt;</span><span class="token string">'flex-basis'</span><span class="token operator">></span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>该属性有两个快捷值：auto (1 1 auto) 和 none (0 0 auto)。</p>
<p>建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关值。</p>
<h3 id="4-6-align-self属性"><a href="#4-6-align-self属性" class="headerlink" title="4.6 align-self属性"></a>4.6 align-self属性</h3><p>align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>item <span class="token punctuation">{</span>
  align<span class="token operator">-</span>self<span class="token operator">:</span> <span class="token keyword">auto</span> <span class="token operator">|</span> flex<span class="token operator">-</span>start <span class="token operator">|</span> flex<span class="token operator">-</span>end <span class="token operator">|</span> center <span class="token operator">|</span> baseline <span class="token operator">|</span> stretch<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="flex15.png" alt><br>该属性可能取6个值，除了auto，其他都与align-items属性完全一致。</p>
<h2 id="grid也一起看一下"><a href="#grid也一起看一下" class="headerlink" title="grid也一起看一下"></a>grid也一起看一下</h2><p><a href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html" target="_blank" rel="noopener">grid网格布局</a></p>
<h1 id="1-4-1px"><a href="#1-4-1px" class="headerlink" title="1.4 1px"></a>1.4 1px</h1><hr>
<h2 id="移动端1px问题是怎么解决的"><a href="#移动端1px问题是怎么解决的" class="headerlink" title="移动端1px问题是怎么解决的"></a>移动端1px问题是怎么解决的</h2><h3 id="一、产生原因"><a href="#一、产生原因" class="headerlink" title="一、产生原因"></a>一、产生原因</h3><p>那么为什么会产生这个问题呢？主要是跟一个东西有关，DPR(devicePixelRatio) 设备像素比，它是默认缩放为100%的情况下，设备像素和CSS像素的比值。<br>window.devicePixelRatio=物理像素 /CSS像素</p>
<h3 id="二、解决方案这里只细说最常用的两种方案"><a href="#二、解决方案这里只细说最常用的两种方案" class="headerlink" title="二、解决方案这里只细说最常用的两种方案"></a>二、解决方案这里只细说最常用的两种方案</h3><p>1、WWDC对iOS统给出的方案<br>2、使用边框图片<br>3、使用box-shadow实现<br><strong>4、使用伪元素</strong><br>1 条border</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>setOnePx<span class="token punctuation">{</span>
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span><span class="token operator">::</span>after<span class="token punctuation">{</span>
    position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    content<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #e5e5e5<span class="token punctuation">;</span>
    display<span class="token operator">:</span> block<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    height<span class="token operator">:</span> 1px<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/*no*/</span>
    transform<span class="token operator">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>复制代码可以看到，将伪元素设置绝对定位，并且和父元素的左上角对齐，将width 设置100%，height设置为1px，然后进行在Y方向缩小0.5倍。<br>4 条border</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>setBorderAll<span class="token punctuation">{</span>
     position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
       <span class="token operator">&amp;</span><span class="token operator">:</span>after<span class="token punctuation">{</span>
           content<span class="token operator">:</span><span class="token string">" "</span><span class="token punctuation">;</span>
           position<span class="token operator">:</span>absolute<span class="token punctuation">;</span>
           top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
           left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
           width<span class="token operator">:</span> <span class="token number">200</span><span class="token operator">%</span><span class="token punctuation">;</span>
           height<span class="token operator">:</span> <span class="token number">200</span><span class="token operator">%</span><span class="token punctuation">;</span>
           transform<span class="token operator">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           transform<span class="token operator">-</span>origin<span class="token operator">:</span> left top<span class="token punctuation">;</span>
           box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
           border<span class="token operator">:</span> 1px solid #E5E5E5<span class="token punctuation">;</span>
           border<span class="token operator">-</span>radius<span class="token operator">:</span> 4px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>复制代码同样为伪元素设置绝对定位，并且和父元素左上角对其。将伪元素的长和宽先放大2倍，然后再设置一个边框，以左上角为中心，缩放到原来的0.5倍<br>总结：<br>优点：全机型兼容，实现了真正的1px，而且可以圆角。<br>缺点：暂用了after 伪元素，可能影响清除浮动。<br><strong>5、设置viewport的scale值</strong><br>这个解决方案是利用viewport+rem+js 实现的</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>html<span class="token operator">></span>
  <span class="token operator">&lt;</span>head<span class="token operator">></span>
      <span class="token operator">&lt;</span>title<span class="token operator">></span>1px question<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
      <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"Content-Type"</span> content<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> id<span class="token operator">=</span><span class="token string">"WebViewport"</span> content<span class="token operator">=</span><span class="token string">"initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span><span class="token operator">></span>        
      <span class="token operator">&lt;</span>style<span class="token operator">></span>
          html <span class="token punctuation">{</span>
              font<span class="token operator">-</span>size<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>            
          <span class="token operator">*</span> <span class="token punctuation">{</span>
              padding<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
              margin<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token punctuation">.</span>top_b <span class="token punctuation">{</span>
              border<span class="token operator">-</span>bottom<span class="token operator">:</span> 1px solid #E5E5E5<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token punctuation">.</span>a<span class="token punctuation">,</span><span class="token punctuation">.</span>b <span class="token punctuation">{</span>
                      box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
              margin<span class="token operator">-</span>top<span class="token operator">:</span> 1rem<span class="token punctuation">;</span>
              padding<span class="token operator">:</span> 1rem<span class="token punctuation">;</span>                
              font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">.</span>4rem<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token punctuation">.</span>a <span class="token punctuation">{</span>
              width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token punctuation">.</span>b <span class="token punctuation">{</span>
              background<span class="token operator">:</span> #f5f5f5<span class="token punctuation">;</span>
              width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
      <span class="token operator">&lt;</span>script<span class="token operator">></span>
          var viewport <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"meta[name=viewport]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment" spellcheck="true">//下面是根据设备像素设置viewport</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>devicePixelRatio <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              viewport<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span> <span class="token string">'width=device-width,initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          var docEl <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
          var fontsize <span class="token operator">=</span> <span class="token number">32</span><span class="token operator">*</span> <span class="token punctuation">(</span>docEl<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">750</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
          docEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> fontsize<span class="token punctuation">;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>
  <span class="token operator">&lt;</span>body<span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"top_b a"</span><span class="token operator">></span>下面的底边宽度是虚拟<span class="token number">1</span>像素的<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"b"</span><span class="token operator">></span>上面的边框宽度是虚拟<span class="token number">1</span>像素的<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>总结<br>优点：全机型兼容，直接写1px不能再方便<br>缺点：适用于新的项目，老项目可能改动大</p>
<h2 id="介绍下rem方案和vw方案-分别有什么优缺点"><a href="#介绍下rem方案和vw方案-分别有什么优缺点" class="headerlink" title="介绍下rem方案和vw方案,分别有什么优缺点"></a>介绍下rem方案和vw方案,分别有什么优缺点</h2><h3 id="一、简单介绍下rem布局方案"><a href="#一、简单介绍下rem布局方案" class="headerlink" title="一、简单介绍下rem布局方案"></a>一、简单介绍下rem布局方案</h3><p>rem是css中的长度单位，1rem=根元素html的font-size值。</p>
<p>当页面中所有元素都使用rem单位时，你只需要改变根元素font-size值，所有元素就会按比例放大或者缩小。</p>
<p>因此我们只需要写一小段js代码，根据屏幕宽度改变html的font-size值，就可以做到弹性布局。</p>
<p>这种方法确实便捷，兼容性也很好，是目前非常主流的弹性布局方案。</p>
<p>但这种方案有弊端</p>
<blockquote>
<ul>
<li>弊端之一：和根元素font-size值强耦合，系统字体放大或缩小时，会导致布局错乱；</li>
<li>弊端之二：html文件头部需插入一段js代码<br>本文将介绍一种更优秀纯粹的方案。</li>
</ul>
</blockquote>
<h3 id="二、vw单位实现弹性布局"><a href="#二、vw单位实现弹性布局" class="headerlink" title="二、vw单位实现弹性布局"></a>二、vw单位实现弹性布局</h3><p>我们先来看看这vw vh单位 w3c的官方解释</p>
<blockquote>
<ul>
<li>vw：1% of viewport’s width</li>
<li>vh：1% of viewport’s height<br>viewport即浏览器可视区域大小</li>
</ul>
</blockquote>
<p>我们可以这样理解</p>
<blockquote>
<ul>
<li>100vw = window.innerwidth</li>
<li>100vh = window.innerheight</li>
</ul>
</blockquote>
<p>在移动端我们一般都可以认为，100vw就是屏幕宽度。若使用vw布局，就不需要再像rem那样，在js中去动态设置根元素的font-size了，sass中只需要使用这个函数做转换即可</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">//以iphone7尺寸@2x 750像素宽的视觉稿为例</span>
@function <span class="token function">vw</span><span class="token punctuation">(</span>$px<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    @<span class="token keyword">return</span> <span class="token punctuation">(</span>$px <span class="token operator">/</span> <span class="token number">750</span><span class="token punctuation">)</span> <span class="token operator">*</span> 100vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//假设一个div元素在视觉稿中，宽度为120px，字体大小为12px</span>
div <span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token function">vw</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token function">vw</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>vw单位和百分比%单位对比<br>那么100vw和我们平时用的width:100%有什么区别呢？</p>
<p>百分比%是根据父元素宽度或者高度进行计算<br>而vw vh固定按照viewport来计算，不会受父元素宽高度影响。</p>
<p>100vw包括了页面滚动条宽度（页面滚动条属于viewport范围内，100vw当然包括了页面滚动条宽度）。但把body或者html设置为width:100%时，是不包括页面滚动条的宽度的。也就是说100vw在有纵向滚动条的情况下，会比100%宽。</p>
<p>那么就会引发一个问题：</p>
<p>pc端使用vw单位时，如果页面内容超出一屏长度，出现了纵向滚动条，同时有元素width:100vw， 则会导致出现条横向滚动条，因为元素（100vw + 滚动条宽度）超出了viewport宽度。（移动端滚动条不占位，所以不会有这个问题）不过pc端一般不需要弹性布局，还是尽量使用width:100%更保险。</p>
<h3 id="为何rem布局比vw主流？兼容性"><a href="#为何rem布局比vw主流？兼容性" class="headerlink" title="为何rem布局比vw主流？兼容性"></a>为何rem布局比vw主流？兼容性</h3><p>既然rem布局有弊端，与font-size强耦合会引发副作用，vw布局相较之下更纯粹代码逻辑也更清晰，为何移动端rem布局比vw主流？</p>
<p>我们来看看vw和rem的兼容性。</p>
<p>相较之下，vw单位兼容性比rem稍差，ios8、安卓4.4及以上才完全支持。这也是为什么之前rem布局一直更流行的原因。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>目前ios8、安卓4.4以下的用户已经非常少了，caniuse上面显示，在中国这部分用户只有1.2%，比例已经非常低了，而这部分用户的手机估计只会打打电话不会使用互联网的（还是需根据各自产品的用户数据分析来决定是否使用vw）。如果你的页面只适用于微信、qq，那绝对能放心使用vw单位，还可以配合vh针对一些特殊比例屏幕做处理，彻底摆脱使用rem带来的副作用，删掉html头部计算font-size的那段js代码，让你的代码更纯粹。</p>
<h1 id="1-5-重绘回流"><a href="#1-5-重绘回流" class="headerlink" title="1.5 重绘回流"></a>1.5 重绘回流</h1><hr>
<h2 id="介绍一下重绘和回流"><a href="#介绍一下重绘和回流" class="headerlink" title="介绍一下重绘和回流"></a>介绍一下重绘和回流</h2><p>在讨论回流与重绘之前，我们要知道：<br>1.浏览器使用流式布局模型 (Flow Based Layout)。<br>2.浏览器会把HTML解析成DOM，把CSS解析成CSSOM，DOM和CSSOM合并就产生了Render Tree。<br>3.有了RenderTree，我们就知道了所有节点的样式，然后计算他们在页面上的大小和位置，最后把节点绘制到页面上。<br>4.由于浏览器使用流式布局，对Render Tree的计算通常只需要遍历一次就可以完成，但table及其内部元素除外，他们可能需要多次计算，通常要花3倍于同等元素的时间，这也是为什么要避免使用table布局的原因之一。<br>一句话：回流必将引起重绘，重绘不一定会引起回流。</p>
<h3 id="回流-Reflow"><a href="#回流-Reflow" class="headerlink" title="回流 (Reflow)"></a>回流 (Reflow)</h3><p>当Render Tree中部分或全部元素的尺寸、结构、或某些属性发生改变时，浏览器重新渲染部分或全部文档的过程称为回流。<br>会导致回流的操作：<br>页面首次渲染<br>浏览器窗口大小发生改变<br>元素尺寸或位置发生改变<br>元素内容变化（文字数量或图片大小等等）<br>元素字体大小变化<br>添加或者删除可见的DOM元素<br>激活CSS伪类（例如：:hover）<br>查询某些属性或调用某些方法<br>一些常用且会导致回流的属性和方法：<br>clientWidth、clientHeight、clientTop、clientLeft<br>offsetWidth、offsetHeight、offsetTop、offsetLeft<br>scrollWidth、scrollHeight、scrollTop、scrollLeft<br>scrollIntoView()、scrollIntoViewIfNeeded()<br>getComputedStyle()<br>getBoundingClientRect()<br>scrollTo()</p>
<h3 id="重绘-Repaint"><a href="#重绘-Repaint" class="headerlink" title="重绘 (Repaint)"></a>重绘 (Repaint)</h3><p>当页面中元素样式的改变并不影响它在文档流中的位置时（例如：color、background-color、visibility等），浏览器会将新样式赋予给元素并重新绘制它，这个过程称为重绘。</p>
<h3 id="性能影响"><a href="#性能影响" class="headerlink" title="性能影响"></a>性能影响</h3><p>回流比重绘的代价要更高。<br>有时即使仅仅回流一个单一的元素，它的父元素以及任何跟随它的元素也会产生回流。<br>现代浏览器会对频繁的回流或重绘操作进行优化：<br>浏览器会维护一个队列，把所有引起回流和重绘的操作放入队列中，如果队列中的任务数量或者时间间隔达到一个阈值的，浏览器就会将队列清空，进行一次批处理，这样可以把多次回流和重绘变成一次。<br>当你访问以下属性或方法时，浏览器会立刻清空队列：<br>clientWidth、clientHeight、clientTop、clientLeft<br>offsetWidth、offsetHeight、offsetTop、offsetLeft<br>scrollWidth、scrollHeight、scrollTop、scrollLeft<br>width、height<br>getComputedStyle()<br>getBoundingClientRect()<br>因为队列中可能会有影响到这些属性或方法返回值的操作，即使你希望获取的信息与队列中操作引发的改变无关，浏览器也会强行清空队列，确保你拿到的值是最精确的。</p>
<h2 id="如何避免重绘和回流"><a href="#如何避免重绘和回流" class="headerlink" title="如何避免重绘和回流"></a>如何避免重绘和回流</h2><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p>避免使用table布局。<br>尽可能在DOM树的最末端改变class。<br>避免设置多层内联样式。<br>将动画效果应用到position属性为absolute或fixed的元素上。<br>避免使用CSS表达式（例如：calc()）。</p>
<h3 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h3><p>避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。<br>避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。<br>也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘。<br>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。<br>对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流。</p>
<h1 id="1-6-居中-常见布局"><a href="#1-6-居中-常见布局" class="headerlink" title="1.6 居中/常见布局"></a>1.6 居中/常见布局</h1><hr>
<p><a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank" rel="noopener">以CSS为中心：完整指南</a></p>
<h2 id="两列自适应布局"><a href="#两列自适应布局" class="headerlink" title="两列自适应布局"></a>两列自适应布局</h2><blockquote>
<p>两列自适应布局是指一列由内容撑开，另一列撑满剩余宽度的布局方式</p>
</blockquote>
<h3 id="1-float-overflow-hidden"><a href="#1-float-overflow-hidden" class="headerlink" title="1.float+overflow:hidden"></a>1.float+overflow:hidden</h3><pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>contain <span class="token punctuation">{</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
        zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
        zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"contain"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-flex布局"><a href="#2-flex布局" class="headerlink" title="2.flex布局"></a>2.flex布局</h3><pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>contain <span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"contain"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-grid布局"><a href="#3-grid布局" class="headerlink" title="3.grid布局"></a>3.grid布局</h3><pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>contain <span class="token punctuation">{</span>
        display<span class="token operator">:</span> grid<span class="token punctuation">;</span>
        grid<span class="token operator">-</span><span class="token keyword">template</span><span class="token operator">-</span>columns<span class="token operator">:</span> <span class="token keyword">auto</span> 1fr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"contain"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="三栏布局——两边固定宽度中间自适应"><a href="#三栏布局——两边固定宽度中间自适应" class="headerlink" title="三栏布局——两边固定宽度中间自适应"></a>三栏布局——两边固定宽度中间自适应</h2><h3 id="1-float布局"><a href="#1-float布局" class="headerlink" title="1.float布局"></a>1.float布局</h3><blockquote>
<p>float布局使用时注意清除浮动。</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token comment" spellcheck="true">/*父元素清除浮动*/</span>
    <span class="token punctuation">.</span><span class="token keyword">float</span><span class="token operator">:</span>after <span class="token punctuation">{</span>
        content<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
        height<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        display<span class="token operator">:</span> block<span class="token punctuation">;</span>
        clear<span class="token operator">:</span> both<span class="token punctuation">;</span>
        visibility<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token keyword">float</span> <span class="token punctuation">{</span>
        <span class="token operator">*</span>zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token keyword">float</span> <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token keyword">float</span> <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> right<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token keyword">float</span> <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 400px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>right<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"float"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-Position-布局"><a href="#2-Position-布局" class="headerlink" title="2.Position 布局"></a>2.Position 布局</h3><blockquote>
<p>Position布局只是根据定位属性去直接设置元素位置。不推荐使用</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>position <span class="token punctuation">{</span>
        position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>position <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
        left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>position <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
        left<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        right<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 400px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>position <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        position<span class="token operator">:</span> absolute<span class="token punctuation">;</span>
        right<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"position"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-Flex-布局"><a href="#3-Flex-布局" class="headerlink" title="3.Flex 布局"></a>3.Flex 布局</h3><blockquote>
<p>flex布局比较强大,只能支持到IE10及以上。</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>flex <span class="token punctuation">{</span>
        display<span class="token operator">:</span> flex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>flex <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>flex <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>flex <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"flex"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4-table-布局"><a href="#4-table-布局" class="headerlink" title="4.table 布局"></a>4.table 布局</h3><blockquote>
<p>table布局使用起来方便,没有兼容性也不存在问题，但使用不方便</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"> <span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>table <span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
        display<span class="token operator">:</span> table<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>table <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        display<span class="token operator">:</span> table<span class="token operator">-</span>cell<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>table <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        display<span class="token operator">:</span> table<span class="token operator">-</span>cell<span class="token punctuation">;</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>table <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        display<span class="token operator">:</span> table<span class="token operator">-</span>cell<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"table"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5-grid布局"><a href="#5-grid布局" class="headerlink" title="5.grid布局"></a>5.grid布局</h3><blockquote>
<p>grid布局很强大，但是兼容性很差。</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>grid <span class="token punctuation">{</span>
        display<span class="token operator">:</span> grid<span class="token punctuation">;</span>
        grid<span class="token operator">-</span><span class="token keyword">template</span><span class="token operator">-</span>rows<span class="token operator">:</span> 100px<span class="token punctuation">;</span>
        grid<span class="token operator">-</span><span class="token keyword">template</span><span class="token operator">-</span>columns<span class="token operator">:</span> 300px <span class="token keyword">auto</span> 300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>grid <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>grid <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>grid <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"grid"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h2><p>三个部分都设定为左浮动，然后设置center的宽度为100%，此时，left和right部分会跳到下一行；<br>通过设置margin-left为负值让left和right部分回到与center部分同一行；</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>head<span class="token operator">></span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>title<span class="token operator">></span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>
  <span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>main <span class="token punctuation">{</span>
      padding<span class="token operator">-</span>left<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
      padding<span class="token operator">-</span>right<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
      <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
      width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
      height<span class="token operator">:</span> 400px<span class="token punctuation">;</span>
      background<span class="token operator">:</span> #4ba946<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
      <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
      width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
      height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
      background<span class="token operator">:</span> #0376c2<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
      position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
      left<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
      <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
      width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
      height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
      background<span class="token operator">:</span> #9889c1<span class="token punctuation">;</span>
      margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span>
      position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
      right<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>
<span class="token operator">&lt;</span>body<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>缺点:<br>center部分的最小宽度不能小于left部分的宽度，否则会left部分掉到下一行<br>如果其中一列内容高度拉长(如下图)，其他两列的背景并不会自动填充。(借助伪等高布局可解决)</p>
<h2 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h2><p>实现步骤(前两步与圣杯布局一样)<br>三个部分都设定为左浮动，然后设置center的宽度为100%，此时，left和right部分会跳到下一行；<br>通过设置margin-left为负值让left和right部分回到与center部分同一行；<br>center部分增加一个内层div，并设margin: 0 200px；</p>
<p>缺点<br>多加一层 dom 树节点，增加渲染树生成的计算量。</p>
<h2 id="多列等高布局——圣杯布局"><a href="#多列等高布局——圣杯布局" class="headerlink" title="多列等高布局——圣杯布局"></a>多列等高布局——圣杯布局</h2><p>实现步骤：<br>1.三部分都设定为浮动，设置center的宽度为100%。<br>2.设置 left 和 right的margin-left为负值让left和right部分回到与center部分同一行。<br>3.设置相对定位，让left和right部分移动到两边。<br>4.伪等高布局</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>container <span class="token punctuation">{</span>
    overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//把溢出背景切掉</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>center<span class="token punctuation">,</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token punctuation">.</span>right <span class="token punctuation">{</span>
    padding<span class="token operator">-</span>bottom<span class="token operator">:</span> 10000px<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token operator">-</span>10000px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>示例：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    <span class="token punctuation">.</span>container <span class="token punctuation">{</span>
        padding<span class="token operator">-</span>left<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        padding<span class="token operator">-</span>right<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/*关键*/</span>
    <span class="token punctuation">.</span>container <span class="token punctuation">.</span>center<span class="token punctuation">,</span> <span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        padding<span class="token operator">-</span>bottom<span class="token operator">:</span> 10000px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>bottom<span class="token operator">:</span> <span class="token operator">-</span>10000px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>container <span class="token punctuation">.</span>center <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
        width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
        height<span class="token operator">:</span> 400px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>container <span class="token punctuation">.</span>left <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
        position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
        left<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>container <span class="token punctuation">.</span>right <span class="token punctuation">{</span>
        <span class="token keyword">float</span><span class="token operator">:</span> left<span class="token punctuation">;</span>
        width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        height<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/*right 的宽度*/</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
        position<span class="token operator">:</span> relative<span class="token punctuation">;</span>
        right<span class="token operator">:</span> <span class="token operator">-</span>300px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>section <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">></span>中间<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"left"</span><span class="token operator">></span>左边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"right"</span><span class="token operator">></span>右边<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>section<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="粘连布局"><a href="#粘连布局" class="headerlink" title="粘连布局"></a>粘连布局</h2><p>描述：<br>有一块内容<code>&lt;main&gt;</code>，当<code>&lt;main&gt;</code>的高度足够长的时候，紧跟在<code>&lt;main&gt;</code>后面的元素<code>&lt;footer&gt;</code>会跟在<code>&lt;main&gt;</code>元素的后面。当<code>&lt;main&gt;</code>元素比较短的时候(比如小于屏幕的高度),我们期望这个<code>&lt;footer&gt;</code>元素能够“粘连”在屏幕的底部。<br>实现步骤：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>style<span class="token operator">></span>
    html<span class="token punctuation">,</span> body <span class="token punctuation">{</span>
        height<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>wrap <span class="token punctuation">{</span>
        min<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*设置min-height，变为视口高度*/</span>
        background<span class="token operator">:</span> blue<span class="token punctuation">;</span>
        overflow<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>main <span class="token punctuation">{</span>
        padding<span class="token operator">-</span>bottom<span class="token operator">:</span> 50px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span>footer <span class="token punctuation">{</span>
        height<span class="token operator">:</span> 50px<span class="token punctuation">;</span>
        margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token operator">-</span>50px<span class="token punctuation">;</span>
        background<span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"wrap"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>article <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"main"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
        <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>article<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>footer <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"footer"</span><span class="token operator">></span>footer<span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="1-7-层叠上下文-说一下z-index"><a href="#1-7-层叠上下文-说一下z-index" class="headerlink" title="1.7 层叠上下文 说一下z-index"></a>1.7 层叠上下文 说一下z-index</h1><hr>
<p>零、世间的道理都是想通的<br>在这个世界上，凡事都有个先后顺序，凡物都有个论资排辈。比方说食堂排队打饭，对吧，讲求先到先得，总不可能一拥而上。再比如说话语权，老婆的话永远是对的，领导的话永远是对的。</p>
<p>在CSS届，也是如此。只是，一般情况下，大家歌舞升平，看不出什么差异，即所谓的众生平等。但是，当发生冲突发生纠葛的时候，显然，是不可能做到完全等同的，先后顺序，身份差异就显现出来了。例如，杰克和罗斯，只能一人浮在木板上，此时，出现了冲突，结果大家都知道的。那对于CSS世界中的元素而言，所谓的“冲突”指什么呢，其中，很重要的一个层面就是“层叠显示冲突”。</p>
<p>默认情况下，网页内容是没有偏移角的垂直视觉呈现，当内容发生层叠的时候，一定会有一个前后的层叠顺序产生，有点类似于真实世界中论资排辈的感觉。</p>
<p>而要理解网页中元素是如何“论资排辈”的，就需要深入理解CSS中的层叠上下文和层叠顺序。</p>
<p>我们大家可能都熟悉CSS中的z-index属性，需要跟大家讲的是，z-index实际上只是CSS层叠上下文和层叠顺序中的一叶小舟。</p>
<h2 id="一、什么是层叠上下文"><a href="#一、什么是层叠上下文" class="headerlink" title="一、什么是层叠上下文"></a>一、什么是层叠上下文</h2><p>层叠上下文，英文称作”stacking context”. 是HTML中的一个三维的概念。如果一个元素含有层叠上下文，我们可以理解为这个元素在z轴上就“高人一等”。</p>
<p>这里出现了一个名词-z轴，指的是什么呢？</p>
<p>表示的是用户与屏幕的这条看不见的垂直线（参见下图示意-红线）：<br><img src="zindex.png" alt><br>层叠上下文是一个概念，跟「块状格式化上下文(BFC)」类似。然而，概念这个东西是比较虚比较抽象的，要想轻松理解，我们需要将其具象化。</p>
<p>怎么个具象化法呢？</p>
<p>你可以把「层叠上下文」理解为当官：网页中有很多很多的元素，我们可以看成是真实世界的芸芸众生。真实世界里，我们大多数人是普通老百姓们，还有一部分人是做官的官员。OK，这里的“官员”就可以理解为网页中的层叠上下文元素。</p>
<p>换句话说，页面中的元素有了层叠上下文，就好比我们普通老百姓当了官，一旦当了官，相比普通老百姓而言，离皇帝更近了，对不对，就等同于网页中元素级别更高，离我们用户更近了。<br><img src="zindex.gif" alt></p>
<h2 id="二、什么是层叠水平"><a href="#二、什么是层叠水平" class="headerlink" title="二、什么是层叠水平"></a>二、什么是层叠水平</h2><p>再来说说层叠水平。“层叠水平”英文称作”stacking level”，决定了同一个层叠上下文中元素在z轴上的显示顺序。level这个词很容易让我们联想到我们真正世界中的三六九等、论资排辈。真实世界中，每个人都是独立的个体，包括同卵双胞胎，有差异就有区分。例如，双胞胎虽然长得像Ctrl+C/Ctrl+V得到的，但实际上，出生时间还是有先后顺序的，先出生的那个就大，大哥或大姐。网页中的元素也是如此，页面中的每个元素都是独立的个体，他们一定是会有一个类似的排名排序的情况存在。而这个排名排序、论资排辈就是我们这里所说的“层叠水平”。层叠上下文元素的层叠水平可以理解为官员的职级，1品2品，县长省长之类；对于普通元素，这个嘛……你自己随意理解。</p>
<p>于是，显而易见，所有的元素都有层叠水平，包括层叠上下文元素，层叠上下文元素的层叠水平可以理解为官员的职级，1品2品，县长省长之类。然后，对于普通元素的层叠水平，我们的探讨仅仅局限在当前层叠上下文元素中。为什么呢？因为否则没有意义。</p>
<p>这么理解吧~ 上面提过元素具有层叠上下文好比当官，大家都知道的，这当官的家里都有丫鬟啊保镖啊管家啊什么的。所谓打狗看主人，A官员家里的管家和B官员家里的管家做PK实际上是没有意义的，因为他们牛不牛逼完全由他们的主子决定的。一人得道鸡犬升天，你说这和珅家里的管家和七侠镇娄知县县令家里的管家有可比性吗？李总理的秘书是不是分分钟灭了你村支部书记的秘书（如果有）。</p>
<p>翻译成术语就是：普通元素的层叠水平优先由层叠上下文决定，因此，层叠水平的比较只有在当前层叠上下文元素中才有意义。<br><img src="zindex.gif" alt><br>需要注意的是，诸位千万不要把层叠水平和CSS的z-index属性混为一谈。没错，某些情况下z-index确实可以影响层叠水平，但是，只限于定位元素以及flex盒子的孩子元素；而层叠水平所有的元素都存在。</p>
<h2 id="三、什么是层叠顺序"><a href="#三、什么是层叠顺序" class="headerlink" title="三、什么是层叠顺序"></a>三、什么是层叠顺序</h2><p>再来说说层叠顺序。“层叠顺序”英文称作”stacking order”. 表示元素发生层叠时候有着特定的垂直显示顺序，注意，这里跟上面两个不一样，上面的层叠上下文和层叠水平是概念，而这里的层叠顺序是规则。</p>
<p>在CSS2.1的年代，在CSS3还没有出现的时候（注意这里的前提），层叠顺序规则遵循下面这张图：<br><img src="zindex1.png" alt><br>有人可能有见过类似图，那个图是很多很多年前老外绘制的，英文内容。而是更关键的是国内估计没有同行进行过验证与实践，实际上很多关键信息缺失。上面是我自己手动重绘的中文版同时补充很多其他地方绝对没有的重要知识信息。如果想要无水印高清大图，点击这里购买(0.5元)。</p>
<p>缺失的关键信息包括：</p>
<p>位于最低水平的border/background指的是层叠上下文元素的边框和背景色。每一个层叠顺序规则适用于一个完整的层叠上下文元素。<br>原图没有呈现inline-block的层叠顺序，实际上，inline-block和inline水平元素是同等level级别。<br>z-index:0实际上和z-index:auto单纯从层叠水平上看，是可以看成是一样的。注意这里的措辞——“单纯从层叠水平上看”，实际上，两者在层叠上下文领域有着根本性的差异。<br>下面我要向大家发问了，大家有没有想过，为什么内联元素的层叠顺序要比浮动元素和块状元素都高？<br><img src="zindex1.gif" alt><br>为什么呢？我明明感觉浮动元素和块状元素要更屌一点啊。</p>
<p>嘿嘿嘿，我就不卖关子了，直接看下图的标注说明：<br><img src="zindex2.png" alt><br>诸如border/background一般为装饰属性，而浮动和块状元素一般用作布局，而内联元素都是内容。网页中最重要的是什么？当然是内容了哈，对不对！</p>
<p>因此，一定要让内容的层叠顺序相当高，当发生层叠是很好，重要的文字啊图片内容可以优先暴露在屏幕上。例如，文字和浮动图片重叠的时候：<br><img src="zindex.jpg" alt><br>上面说的这些层叠顺序规则还是老时代的，如果把CSS3也牵扯进来，科科，事情就不一样了。</p>
<h2 id="四、务必牢记的层叠准则"><a href="#四、务必牢记的层叠准则" class="headerlink" title="四、务必牢记的层叠准则"></a>四、务必牢记的层叠准则</h2><p>下面这两个是层叠领域的黄金准则。当元素发生层叠的时候，其覆盖关系遵循下面2个准则：</p>
<p><strong>谁大谁上</strong>：当具有明显的层叠水平标示的时候，如识别的z-indx值，在同一个层叠上下文领域，层叠水平值大的那一个覆盖小的那一个。通俗讲就是官大的压死官小的。<br><strong>后来居上</strong>：当元素的层叠水平一致、层叠顺序相同的时候，在DOM流中处于后面的元素会覆盖前面的元素。<br>在CSS和HTML领域，只要元素发生了重叠，都离不开上面这两个黄金准则。因为后面会有多个实例说明，这里就到此为止。</p>
<h2 id="五、层叠上下文的特性"><a href="#五、层叠上下文的特性" class="headerlink" title="五、层叠上下文的特性"></a>五、层叠上下文的特性</h2><p>层叠上下文元素有如下特性：</p>
<p>层叠上下文的层叠水平要比普通元素高（原因后面会说明）；<br>层叠上下文可以阻断元素的混合模式（见此文第二部分说明）；<br>层叠上下文可以嵌套，内部层叠上下文及其所有子元素均受制于外部的层叠上下文。<br>每个层叠上下文和兄弟元素独立，也就是当进行层叠变化或渲染的时候，只需要考虑后代元素。<br>每个层叠上下文是自成体系的，当元素发生层叠的时候，整个元素被认为是在父层叠上下文的层叠顺序中。<br>翻译成真实世界语言就是：</p>
<p>当官的比老百姓更有机会面见圣上；<br>领导下去考察，会被当地官员阻隔只看到繁荣看不到真实民情；<br>一个家里，爸爸可以当官，孩子也是可以同时当官的。但是，孩子这个官要受爸爸控制。<br>自己当官，兄弟不占光。有什么福利或者变故只会影响自己的孩子们。<br>每个当官的都有属于自己的小团体，当家眷管家发生摩擦磕碰的时候（包括和其他官员的家眷管家），都是要优先看当官的也就是主子的脸色。</p>
<h2 id="六、层叠上下文的创建"><a href="#六、层叠上下文的创建" class="headerlink" title="六、层叠上下文的创建"></a>六、层叠上下文的创建</h2><p>卖了这么多文字，到底层叠上下文是个什么鬼，倒是拿出来瞅瞅啊！</p>
<p>哈哈。如同块状格式化上下文，层叠上下文也基本上是有一些特定的CSS属性创建的。我将其总结为3个流派，也就是做官的3种途径：</p>
<blockquote>
<p>皇亲国戚派：页面根元素天生具有层叠上下文，称之为“根层叠上下文”。<br>科考入选派：z-index值为数值的定位元素的传统层叠上下文。<br>其他当官途径：其他CSS3属性。</p>
</blockquote>
<h3 id="①-根层叠上下文"><a href="#①-根层叠上下文" class="headerlink" title="①. 根层叠上下文"></a>①. 根层叠上下文</h3><p>指的是页面根元素，也就是滚动条的默认的始作俑者<html>元素。这就是为什么，绝对定位元素在left/top等值定位的时候，如果没有其他定位元素限制，会相对浏览器窗口定位的原因。</html></p>
<h3 id="②-定位元素与传统层叠上下文"><a href="#②-定位元素与传统层叠上下文" class="headerlink" title="②. 定位元素与传统层叠上下文"></a>②. 定位元素与传统层叠上下文</h3><p>对于包含有position:relative/position:absolute的定位元素，以及FireFox/IE浏览器（不包括Chrome等webkit内核浏览器）（目前，也就是2016年初是这样）下含有position:fixed声明的定位元素，当其z-index值不是auto的时候，会创建层叠上下文。</p>
<p>知道了这一点，有些现象就好理解了。</p>
<p>如下HTML代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"position:relative; z-index:auto;"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span> style<span class="token operator">=</span><span class="token string">"position:absolute; z-index:2;"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">--</span> 横妹子 <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"position:relative; z-index:auto;"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm2.jpg"</span> style<span class="token operator">=</span><span class="token string">"position:relative; z-index:1;"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">--</span> 竖妹子 <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="zindex1.jpg" alt><br>大家会发现，竖着的妹子(mm2)被横着的妹子(mm1)给覆盖了。</p>
<p>下面，我们对父级简单调整下，把z-index:auto改成层叠水平一致的z-index:0, 代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"position:relative; z-index:0;"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span> style<span class="token operator">=</span><span class="token string">"position:absolute; z-index:2;"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">--</span> 横妹子 <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"position:relative; z-index:0;"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm2.jpg"</span> style<span class="token operator">=</span><span class="token string">"position:relative; z-index:1;"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">--</span> 竖妹子 <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="zindex2.jpg" alt><br>为什么小小的改变会有想法的结果呢？<br><img src="zindex2.gif" alt><br>差别就在于，z-index:0所在的<code>&lt;div&gt;</code>元素是层叠上下文元素，而z-index:auto所在的<code>&lt;div&gt;</code>元素是一个普通的元素，于是，里面的两个<code>&lt;img&gt;</code>妹子的层叠比较就不受父级的影响，两者直接套用层叠黄金准则，这里，两者有着明显不一的z-index值，因此，遵循“谁大谁上”的准则，于是，z-index为2的那个横妹子，就趴在了z-index为1的竖妹子身上。</p>
<p>而z-index一旦变成数值，哪怕是0，都会创建一个层叠上下文。此时，层叠规则就发生了变化。层叠上下文的特性里面最后一条——自成体系。两个<code>&lt;img&gt;</code>妹子的层叠顺序比较变成了优先比较其父级层叠上下文元素的层叠顺序。这里，由于两者都是z-index:0，层叠顺序这一块两者一样大，此时，遵循层叠黄金准则的另外一个准则“后来居上”，根据在DOM流中的位置决定谁在上面，于是，位于后面的竖着的妹子就自然而然趴在了横着的妹子身上。对，没错，<code>&lt;img&gt;</code>元素上的z-index打酱油了！</p>
<p>有时候，我们在网页重构的时候，会发现，z-index嵌套错乱，看看是不是受父级的层叠上下文元素干扰了。然后，可能没多大意义了，但我还是提一下，算是祭奠下，IE6/IE7浏览器有个bug，就是z-index:auto的定位元素也会创建层叠上下文。这就是为什么在过去，IE6/IE7的z-index会搞死人的原因。</p>
<p>然后，我再提一下position:fixed, 在过去，position:fixed和relative/absolute在层叠上下文这一块是一路货色，都是需要z-index为数值才行。但是，不知道什么时候起，Chrome等webkit内核浏览器，position:fixed元素天然层叠上下文元素，无需z-index为数值。根据我的测试，目前，IE以及FireFox仍是老套路。</p>
<h3 id="③-CSS3与新时代的层叠上下文"><a href="#③-CSS3与新时代的层叠上下文" class="headerlink" title="③. CSS3与新时代的层叠上下文"></a>③. CSS3与新时代的层叠上下文</h3><p>CSS3的出现除了带来了新属性，同时还对过去的很多规则发出了挑战。例如，CSS3 transform对overflow隐藏对position:fixed定位的影响等。而这里，层叠上下文这一块的影响要更加广泛与显著。</p>
<p>如下：<br>z-index值不为auto的flex项(父元素display:flex|inline-flex).<br>元素的opacity值不是1.<br>元素的transform值不是none.<br>元素mix-blend-mode值不是normal.<br>元素的filter值不是none.<br>元素的isolation值是isolate.<br>will-change指定的属性值为上面任意一个。<br>元素的-webkit-overflow-scrolling设为touch.<br>基本上每一项都有很多槽点。</p>
<ol>
<li>display:flex|inline-flex与层叠上下文<br>注意，这里的规则有些负责复杂。要满足两个条件才能形成层叠上下文：条件1是父级需要是display:flex或者display:inline-flex水平，条件2是子元素的z-index不是auto，必须是数值。此时，这个子元素为层叠上下文元素，没错，注意了，是子元素，不是flex父级元素。</li>
</ol>
<p>眼见为实，给大家上例子吧。</p>
<p>如下HTML和CSS代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">.</span>box <span class="token punctuation">{</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> div <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/* 此时该div是普通元素，z-index无效 */</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> div <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">/* 注意这里是负值z-index */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果：<br><img src="zindex1.jpg" alt><br>会发现，妹子在蓝色背景上面显示了，为什么呢？层叠顺序图可以找到答案，如下：<br><img src="zindex3.png" alt><br>从上图可以看出负值z-index的层叠顺序在当前第一个父层叠上下文元素的上面，而此时，那个z-index值为1的蓝色背景<div>的父元素的display值是flex，一下子升官发财变成层叠上下文元素了，于是，图片在蓝色背景上面显示了。这个现象也证实了层叠上下文元素是flex子元素，而不是flex容器元素。</div></p>
<p>另外，另外，这个例子也颠覆了我们传统的对z-index的理解。在CSS2.1时代，z-index属性必须和定位元素一起使用才有作用，但是，在CSS3的世界里，非定位元素也能和z-index愉快地搞基。</p>
<ol start="2">
<li>opacity与层叠上下文<br>我们直接看代码，原理和上面例子一样，就不解释了。</li>
</ol>
<p>如下HTML和CSS代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<div style="background-color:#0074D9; width:256px;">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>

<p>然后价格透明度，例如50%透明：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> opacity<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<div style="background-color:#0074D9; width:256px; opacity: 0.5;">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>

<p>原因就是半透明元素具有层叠上下文，妹子图片的z-index:-1无法穿透，于是，在蓝色背景上面乖乖显示了。</p>
<ol start="3">
<li>transform与层叠上下文<br>应用了transform变换的元素同样具有菜单上下文。</li>
</ol>
<p>我们直接看应用后的结果，如下CSS代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> transform<span class="token operator">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<div style="background-color:#0074D9; width:256px; -ms-transform: rotate(15deg); transform: rotate(15deg);">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>

<p>妹子同样在蓝色背景之上</p>
<ol start="4">
<li>mix-blend-mode与层叠上下文<br>mix-blend-mode类似于PS中的混合模式，之前专门有文章介绍-“CSS3混合模式mix-blend-mode简介”。</li>
</ol>
<p>元素和白色背景混合。无论哪种模式，要么全白，要么没有任何变化。为了让大家有直观感受，因此，下面例子我特意加了个原创平铺背景：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> mix<span class="token operator">-</span>blend<span class="token operator">-</span>mode<span class="token operator">:</span> darken<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<div style="background:url(zindex.gif) repeat-x left center;">
<div style="background-color:#0074D9; width:256px; mix-blend-mode: darken;">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>
</div>

<p>需要注意的是，目前，IE浏览器(包括IE14)还不支持mix-blend-mode，因此，要想看到妹子在背景色之上，请使用Chrome或FireFox。</p>
<p>同样的，因为蓝色背景元素升级成了层叠上下文，因此，z-index:-1无法穿透，在蓝色背景上显示了。</p>
<ol start="5">
<li>filter与层叠上下文<br>此处说的filter是CSS3中规范的滤镜，不是旧IE时代私有的那些，虽然目的类似。同样的，我之前有提过，例如图片的灰度或者图片的毛玻璃效果等。</li>
</ol>
<p>我们使用常见的模糊效果示意下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> filter<span class="token operator">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>5px<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<div style="background-color:#0074D9; width:256px; -webkit-filter: blur(5px); filter: blur(5px);">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>

<p>好吧，果然被你猜对了，妹子蓝色床上躺着，只是你眼镜摘了，看得有些不够真切罢了。</p>
<ol start="6">
<li>isolation:isolate与层叠上下文<br>isolation:isolate这个声明是mix-blend-mode应运而生的。默认情况下，mix-blend-mode会混合z轴所有层叠在下面的元素，要是我们不希望某个层叠的元素参与混合怎么办呢？就是使用isolation:isolate。由于一言难尽，我特意为此写了篇文章：“理解CSS3 isolation: isolate的表现和作用”，解释了其阻隔混合模式的原理，建议大家看下。</li>
</ol>
<p>要演示这个效果，我需要重新设计下，如下HTML结构：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"img/mm2.jpg"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"mode"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token punctuation">.</span>mode <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* 竖妹子绝对定位，同时混合模式 */</span>
  position<span class="token operator">:</span> absolute<span class="token punctuation">;</span> mix<span class="token operator">-</span>blend<span class="token operator">-</span>mode<span class="token operator">:</span> darken<span class="token punctuation">;</span>
<span class="token punctuation">}</span>    
<span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  background<span class="token operator">:</span> blue<span class="token punctuation">;</span>         
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结构如下：<br><img src="zindex2.jpg" style="position: absolute;mix-blend-mode: darken; "></p>
<div style="background-color:#0074D9; width:256px;height:250px;">
  <img src="zindex1.jpg" style="position: relative; z-index: -1;">
</div>


<p>会发现，横妹子被混合模式了。此时，我们给妹子所在容器增加isolation:isolate，如下CSS所示：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>mode <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">/* 竖妹子绝对定位，同时混合模式 */</span>
  position<span class="token operator">:</span> absolute<span class="token punctuation">;</span> mix<span class="token operator">-</span>blend<span class="token operator">-</span>mode<span class="token operator">:</span> darken<span class="token punctuation">;</span>
<span class="token punctuation">}</span>    
<span class="token punctuation">.</span>box <span class="token punctuation">{</span>
  background<span class="token operator">:</span> blue<span class="token punctuation">;</span> isolation<span class="token operator">:</span>isolate<span class="token punctuation">;</span>         
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果为：<br><img src="zindex2.jpg" style="position: absolute;mix-blend-mode: darken;"></p>
<div style="background-color:#0074D9; width:256px;height:250px;isolation:isolate;">
  <img src="zindex1.jpg" style="position: relative; z-index: -1;">
</div>

<ol start="7">
<li>will-change与层叠上下文<br>关于will-change，如果有同学还不了解，可以参见我之前写的文章：“使用CSS3 will-change提高页面滚动、动画等渲染性能”。</li>
</ol>
<p>都是类似的演示代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>box <span class="token punctuation">{</span> background<span class="token operator">-</span>color<span class="token operator">:</span> blue<span class="token punctuation">;</span> will<span class="token operator">-</span>change<span class="token operator">:</span> transform<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
<span class="token punctuation">.</span>box <span class="token operator">></span> img <span class="token punctuation">{</span> 
  position<span class="token operator">:</span> relative<span class="token punctuation">;</span> z<span class="token operator">-</span>index<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> right<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>结果如下：</p>
<div style="background-color:#0074D9; width:256px; will-change: transform;">
  <img loading="lazy" src="zindex1.jpg" style="position: relative; z-index: -1; right: -150px;">
</div>

<p>果然不出所料，妹子上了蓝色的背景。</p>
<h2 id="七、层叠上下文与层叠顺序"><a href="#七、层叠上下文与层叠顺序" class="headerlink" title="七、层叠上下文与层叠顺序"></a>七、层叠上下文与层叠顺序</h2><p>本文多次提到，一旦普通元素具有了层叠上下文，其层叠顺序就会变高。那它的层叠顺序究竟在哪个位置呢？</p>
<p>这里需要分两种情况讨论：</p>
<p>如果层叠上下文元素不依赖z-index数值，则其层叠顺序是z-index:auto可看成z:index:0级别；<br>如果层叠上下文元素依赖z-index数值，则其层叠顺序由z-index值决定。<br>于是乎，我们上面提供的层叠顺序表，实际上还是缺少其他重要信息。我又花功夫重新绘制了一个更完整的7阶层叠顺序图（同样的版权所有，商业请购买，可得无水印大图）：<br><img src="zindex4.png" alt><br>大家知道为什么定位元素会层叠在普通元素的上面吗？</p>
<p>其根本原因就在于，元素一旦成为定位元素，其z-index就会自动生效，此时其z-index就是默认的auto，也就是0级别，根据上面的层叠顺序表，就会覆盖inline或block或float元素。</p>
<p>而不支持z-index的层叠上下文元素天然z-index:auto级别，也就意味着，层叠上下文元素和定位元素是一个层叠顺序的，于是当他们发生层叠的时候，遵循的是“后来居上”准则。</p>
<p>我们可以速度测试下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1"</span> style<span class="token operator">=</span><span class="token string">"position:relative"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm2"</span> style<span class="token operator">=</span><span class="token string">"transform:scale(1);"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm2"</span> style<span class="token operator">=</span><span class="token string">"transform:scale(1);"</span><span class="token operator">></span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1"</span> style<span class="token operator">=</span><span class="token string">"position:relative"</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="zindex7.png" alt><br>会发现，两者样式一模一样，仅仅是在DOM流中的位置不一样，导致他们的层叠表现不一样，后面的妹子趴在了前面妹子的身上。这也说明了，层叠上下文元素的层叠顺序就是z-index:auto级别。</p>
<p>z-index值与层叠顺序<br>如果元素支持z-index值，则层叠顺序就要好理解些了，比较数值大小嘛，小盆友都会，本质上是应用的“谁大谁上”的准则。在以前，我们只需要关心定位元素的z-index就好，但是，在CSS3时代，flex子项也支持z-index，使得我们面对的情况比以前要负复杂。然而，好的是，规则都是一样的，对于z-index的使用和表现也是如此，套用上面的7阶层叠顺序表就可以了。</p>
<p>同样，举个简单例子，看下z-index:-1和z-index:1变化对层叠表现的影响，如下两段HTML：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"display:flex; background:blue;"</span><span class="token operator">></span>
   <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span> style<span class="token operator">=</span><span class="token string">"z-index:-1;"</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"display:flex; background:blue;"</span><span class="token operator">></span>
   <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"mm1.jpg"</span> style<span class="token operator">=</span><span class="token string">"z-index:1;"</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="zindex8.png" alt><br>一个与层叠上下文相关的有趣的显示现象<br>在实际项目中，我们可能会渐进使用CSS3的fadeIn淡入animation效果增强体验，于是，我们可能就会遇到类似下面的现象：</p>
<p>您可以狠狠地点击这里：CSS3 fadeIn淡入animation动画有趣现象</p>
<p>有一个绝对定位的黑色半透明层覆盖在图片上，默认显示是这样的：<br><img src="zindex5.png" alt><br>但是，一旦图片开始走fadeIn淡出的CSS3动画，文字跑到图片后面去了：<br><img src="zindex6.png" alt><br>为什么会这样？</p>
<p>实际上，学了本文的内容，就很简单了！fadeIn动画本质是opacity透明度的变化：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@keyframes fadeIn <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">%</span> <span class="token punctuation">{</span> 
    opacity<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token number">100</span><span class="token operator">%</span> <span class="token punctuation">{</span>
    opacity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>要知道，opacity的值不是1的时候，是具有层叠上下文的，层叠顺序是z-index:auto级别，跟没有z-index值的absolute绝对定位元素是平起平坐的。而本demo中的文字元素在图片元素的前面，于是，当CSS3动画只要不是最终一瞬间的opacity: 1，位于DOM流后面的图片就会遵循“后来居上”准则，覆盖文字。</p>
<p>这就是原因，于是，我们想要解决这个问题就很简单。</p>
<ol>
<li>调整DOM流的先后顺序；</li>
<li>提高文字的层叠顺序，例如，设置z-index:1;</li>
</ol>
<h2 id="八、结束语"><a href="#八、结束语" class="headerlink" title="八、结束语"></a>八、结束语</h2><p>只要元素发生层叠，要解释其表现，基本上就本文的这些内容了。</p>
<p>我发现很多重构小伙伴都有z-index滥用，或者使用不规范的问题。我觉得最主要的原因还是对理解层叠上下文以及层叠顺序这些概念都不了解。例如，只要使用了定位元素，尤其absolute绝对定位，都离不开设置一个z-index值；或者只要元素被其他元素覆盖了，例如变成定位元素或者增加z-index值升级。页面一复杂，必然搞得乱七八糟。</p>
<p>实际上，在我看来，觉得多数常见，z-index根本就没有出现的必要。知道了内联元素的层叠水平比块状元素高，于是，某条线你想覆盖上去的时候，需要设置position:relative吗？不需要，inline-block化就可以。因为IE6/IE7 position:relative会创建层叠上下文，很烦的。</p>
<p>OK，本文已经够长了，就不多啰嗦了。</p>
<p>行为匆忙，出错在所难免，欢迎大力指正。也欢迎各种形式的交流，或者指出文中概念性的错误。</p>
<h1 id="1-8-Sass-Less"><a href="#1-8-Sass-Less" class="headerlink" title="1.8 Sass/Less"></a>1.8 Sass/Less</h1><hr>
<p>“我应该选择哪种CSS预处理器语言?”</p>
<h2 id="什么是CSS-预处理器？"><a href="#什么是CSS-预处理器？" class="headerlink" title="什么是CSS 预处理器？"></a>什么是CSS 预处理器？</h2><p>CSS 预处理器定义了一种新的语言，其基本思想是，用一种专门的编程语言，为 CSS 增加了一些编程的特性，将 CSS 作为目标生成文件，然后开发者就只要使用这种语言进行CSS的编码工作。</p>
<h2 id="为什么要使用CSS预处理器？"><a href="#为什么要使用CSS预处理器？" class="headerlink" title="为什么要使用CSS预处理器？"></a>为什么要使用CSS预处理器？</h2><p>CSS仅仅是一个标记语言，不可以自定义变量，不可以引用。<br>CSS有具体以下几个缺点：</p>
<p>语法不够强大，比如无法嵌套书写，导致模块化开发中需要书写很多重复的选择器；<br>没有变量和合理的样式复用机制，使得逻辑上相关的属性值必须以字面量的形式重复输出，导致难以维护。</p>
<blockquote>
<p>预编译很容易造成后代选择器的滥用</p>
</blockquote>
<p>使用预处理器的优点</p>
<p>提供CSS层缺失的样式层复用机制<br>减少冗余代码<br>提高样式代码的可维护性</p>
<h2 id="Sass-amp-Less"><a href="#Sass-amp-Less" class="headerlink" title="Sass&amp;Less"></a>Sass&amp;Less</h2><ul>
<li>Less （Leaner Style Sheets 的缩写） 是一门向后兼容的 CSS 扩展语言。因为 Less 和 CSS 非常像，Less 仅对 CSS 语言增加了少许方便的扩展，学习很容易。</li>
<li>sass，作为”世界上最成熟、最稳定、最强大的专业级CSS扩展语言”。兼容所有版本的css，且有无数框架使用sass构建，如Compass，Bourbon，和Susy。<blockquote>
<p>SASS版本3.0之前的后缀名为.sass，而版本3.0之后的后缀名.scss。</p>
</blockquote>
</li>
</ul>
<p>Sass 和 Less 这类语言，其实可以理解成 CSS 的超集，它们在CSS 原本的语法格式基础上，增加了编程语言的特性，如变量的使用、逻辑语句的支持、函数等。让 CSS 代码更容易维护和复用。<br>但浏览器最终肯定是只认识 CSS 文件的，它无法处理 CSS 中的那些变量、逻辑语句，所以需要有一个编译的过程，将 Sass 或 Less 写的代码转换成标准的 CSS 代码，这个过程就称为 CSS 预处理。</p>
<h3 id="ruby-sass"><a href="#ruby-sass" class="headerlink" title="ruby sass"></a>ruby sass</h3><p>Ruby Sass 是 Sass 的最初实现，但是 已经于 2019年 3 月 26 日将寿终正寝。我们已经不再对它提供任何支持了，请 Ruby Sass 用户 迁移到其它实现版本（LibSass 或 Dart Sass）。<br>why？<br>最开始，用 Ruby 编写 Sass 能够很方便地 吸引已有的用户甚至整个 Ruby 生态来使用<br>后来，Node.js 在前端开发中变得无处不在，而 Ruby 则 逐渐淡入了后台。与此同时，Sass 项目的规模 已经远远超出了作者最初的设想，对 Sass 在性能上的需求 也已经超过了 Ruby 的能力。</p>
<h3 id="Dart-sass"><a href="#Dart-sass" class="headerlink" title="Dart-sass"></a>Dart-sass</h3><p>sass于2016年11月正式对外公布了alpha版本的Dart Sass 42项目，即他们使用Dart对Sass进行了重写。<br>根据sass-lang官方网站的说法：<br>Dart Sass是Sass的主要实现，这意味着它在其他实现之前先获得了新功能。它快速，易于安装，并且可以编译为纯JavaScript，从而可以轻松集成到现代Web开发工作流中。<br>纯 JS 版本 比独立版本执行速度慢，但是它很容易集成到 现有的工作流中，并且允许你通过 JavaScript 自定义函数和 importer。通过执行 npm install –save-dev sass 命令将其添加到项目中并通过 require() 引入。</p>
<blockquote>
<p>通过 npm 安装时，Dart Sass 提供了一个 JavaScript API 用于 兼容 Node Sass。 完全兼容的工作正在进行中</p>
</blockquote>
<h3 id="libSass"><a href="#libSass" class="headerlink" title="libSass"></a>libSass</h3><p>Sass 最初是用 Ruby 编写的。LibSass 是用 C/C++ 实现的 Sass 引擎。 核心点在于其简单、快速、易于集成。<br>LibSass 只是一个工具库。如需在本地运行（即，编译 Sass 代码)，你需要一个 LibSass 的封装。目前已经有很多 针对 LibSass 的封装了。</p>
<ul>
<li>Sass C，个用 C 语言开发的封装</li>
<li>sass.cr 是针对 Crystal 编程语言 的 LibSass 封装。</li>
<li>go-libsass 是最活跃的 Go 语言封装</li>
</ul>
<h2 id="Less"><a href="#Less" class="headerlink" title="Less"></a>Less</h2><blockquote>
<p>Less 是一门 CSS 预处理语言，它扩展了 CSS 语言，增加了变量、Mixin、函数等特性，使 CSS 更易维护和扩展。</p>
</blockquote>
<p>Less 可以运行在 Node 或浏览器端。一个合法的CSS代码段本身也是一段合法的LESS代码段。</p>
<p>LESS 提供了变量、嵌套、混合、操作符、函数等一般编程所需的抽象机制。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>变量允许我们在一个地方定义一系列通用的值，然后在整个样式表中调用。</p>
<blockquote>
<p>在做全局样式调整的时候，可能只需要修改几行代码就可以了。</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp">@width<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
@height<span class="token operator">:</span> @width <span class="token operator">+</span> 10px<span class="token punctuation">;</span>

<span class="token macro property">#header {</span>
  width<span class="token operator">:</span> @width<span class="token punctuation">;</span>
  height<span class="token operator">:</span> @height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>编译为：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#header {</span>
  width<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
  height<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="混合（Mixins）"><a href="#混合（Mixins）" class="headerlink" title="混合（Mixins）"></a>混合（Mixins）</h3><p>混合（Mixin）是一种将一组属性从一个规则集包含（或混入）到另一个规则集的方法。假设我们定义了一个类（class）如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>bordered <span class="token punctuation">{</span>
  border<span class="token operator">-</span>top<span class="token operator">:</span> dotted 1px black<span class="token punctuation">;</span>
  border<span class="token operator">-</span>bottom<span class="token operator">:</span> solid 2px black<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果希望在其它规则集中使用这些属性，只需像下面这样输入所需属性的类（class）名称即可</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#menu a {</span>
  color<span class="token operator">:</span> #<span class="token number">111</span><span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token function">bordered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>post a <span class="token punctuation">{</span>
  color<span class="token operator">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token function">bordered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="嵌套（Nesting）"><a href="#嵌套（Nesting）" class="headerlink" title="嵌套（Nesting）"></a>嵌套（Nesting）</h3><p>Less 提供了使用嵌套（nesting）代替层叠或与层叠结合使用的能力。假设我们有以下 CSS 代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#header {</span>
  color<span class="token operator">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#header .navigation {</span>
  font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#header .logo {</span>
  width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>用 Less 语言我们可以这样书写代码：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token macro property">#header {</span>
  color<span class="token operator">:</span> black<span class="token punctuation">;</span>
  <span class="token punctuation">.</span>navigation <span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 12px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>logo <span class="token punctuation">{</span>
    width<span class="token operator">:</span> 300px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>用 Less 书写的代码更加简洁，并且模仿了 HTML 的组织结构。</p>
</blockquote>
<p>你还可以使用此方法将伪选择器（pseudo-selectors）与混合（mixins）一同使用。下面是一个经典的 clearfix 技巧，重写为一个混合（mixin） (&amp; 表示当前选择器的父级）：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token punctuation">.</span>clearfix <span class="token punctuation">{</span>
  display<span class="token operator">:</span> block<span class="token punctuation">;</span>
  zoom<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token operator">&amp;</span><span class="token operator">:</span>after <span class="token punctuation">{</span>
    content<span class="token operator">:</span> <span class="token string">" "</span><span class="token punctuation">;</span>
    display<span class="token operator">:</span> block<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    clear<span class="token operator">:</span> both<span class="token punctuation">;</span>
    visibility<span class="token operator">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="运算（Operations）"><a href="#运算（Operations）" class="headerlink" title="运算（Operations）"></a>运算（Operations）</h3><p>算术运算符 +、-、*、/ 可以对任何数字、颜色或变量进行运算<br>注意，如果运算符两侧变量单位不同，在加、减或比较之前会进行单位换算。计算的结果以最左侧操作数的单位类型为准。如果单位换算无效或失去意义，则忽略单位。无效的单位换算例如：px 到 cm 或 rad 到 % 的转换。</p>
<blockquote>
<p>没有单位则不做转换</p>
</blockquote>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// 所有操作数被转换成相同的单位</span>
@conversion<span class="token number">-1</span><span class="token operator">:</span> 5cm <span class="token operator">+</span> 10mm<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 6cm</span>
@conversion<span class="token number">-2</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">-</span> 3cm <span class="token operator">-</span> 5mm<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 -1.5cm</span>

<span class="token comment" spellcheck="true">// conversion is impossible</span>
@incompatible<span class="token operator">-</span>units<span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">+</span> 5px <span class="token operator">-</span> 3cm<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 4px</span>

<span class="token comment" spellcheck="true">// example with variables</span>
@base<span class="token operator">:</span> <span class="token number">5</span><span class="token operator">%</span><span class="token punctuation">;</span>
@filler<span class="token operator">:</span> @base <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 10%</span>
@other<span class="token operator">:</span> @base <span class="token operator">+</span> @filler<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 15%</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>乘法和除法不作转换。因为这两种运算在大多数情况下都没有意义，一个长度乘以一个长度就得到一个区域，而 CSS 是不支持指定区域的。Less 将按数字的原样进行操作，并将为计算结果指定明确的单位类型。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@base<span class="token operator">:</span> 2cm <span class="token operator">*</span> 3mm<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 6cm</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>你还可以对颜色进行算术运算：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@color<span class="token operator">:</span> #<span class="token number">224488</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//结果是 #112244</span>
background<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token number">112244</span> <span class="token operator">+</span> #<span class="token number">111</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结果是 #223355</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="函数（Functions）"><a href="#函数（Functions）" class="headerlink" title="函数（Functions）"></a>函数（Functions）</h3><p>Less 内置了多种函数用于转换颜色、处理字符串、算术运算等。这些函数在Less 函数手册中有详细介绍。<br>函数的用法非常简单。下面这个例子将介绍如何利用 percentage 函数将 0.5 转换为 50%，将颜色饱和度增加 5%，以及颜色亮度降低 25% 并且色相值增加 8 等用法：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@base<span class="token operator">:</span> #f04615<span class="token punctuation">;</span>
@width<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">{</span>
  width<span class="token operator">:</span> <span class="token function">percentage</span><span class="token punctuation">(</span>@width<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// returns `50%`</span>
  color<span class="token operator">:</span> <span class="token function">saturate</span><span class="token punctuation">(</span>@base<span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">spin</span><span class="token punctuation">(</span><span class="token function">lighten</span><span class="token punctuation">(</span>@base<span class="token punctuation">,</span> <span class="token number">25</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="导入（Importing）"><a href="#导入（Importing）" class="headerlink" title="导入（Importing）"></a>导入（Importing）</h3><p>你可以导入一个 .less 文件，此文件中的所有变量就可以全部使用了。如果导入的文件是 .less 扩展名，则可以将扩展名省略掉：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@import <span class="token string">"library"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// library.less</span>
@import <span class="token string">"typo.css"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h2><blockquote>
<p>Sass 是一款强化 CSS 的辅助工具，它在 CSS 语法的基础上增加了变量 (variables)、嵌套 (nested rules)、混合 (mixins)、导入 (inline imports) 等高级功能，这些拓展令 CSS 更加强大与优雅。</p>
</blockquote>
<p>特色功能 (Features)</p>
<ul>
<li>完全兼容 CSS3</li>
<li>在 CSS 基础上增加变量、嵌套 (nesting)、混合 (mixins) 等功能</li>
<li>通过函数进行颜色值与属性值的运算</li>
<li>提供控制指令 (control directives)等高级功能</li>
<li>自定义输出格式<h3 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h3>sass使用$符号来标识变量(老版本的sass使用!来标识变量。<pre class="line-numbers language-cpp"><code class="language-cpp">$highlight<span class="token operator">-</span>color<span class="token operator">:</span> #F90<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
与CSS属性不同，变量可以在css规则块定义之外存在。当变量定义在css规则块内，那么该变量只能在此规则块内使用。<pre class="line-numbers language-cpp"><code class="language-cpp">$nav<span class="token operator">-</span>color<span class="token operator">:</span> #F90<span class="token punctuation">;</span>
nav <span class="token punctuation">{</span>
$width<span class="token operator">:</span> 100px<span class="token punctuation">;</span>
width<span class="token operator">:</span> $width<span class="token punctuation">;</span>
color<span class="token operator">:</span> $nav<span class="token operator">-</span>color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>//编译后</p>
<p>nav {<br>  width: 100px;<br>  color: #F90;<br>}</p>
<pre><code>&gt; 在声明变量时，变量值也可以引用其他变量。
### 嵌套（Nesting）
基本用法与less相同
子组合选择器和同层组合选择器：&gt;、+和~
这三个组合选择器必须和其他选择器配合使用，以指定浏览器仅选择某种特定上下文中的元素。

这些组合选择器可以毫不费力地应用到sass的规则嵌套中。可以把它们放在外层选择器后边，或里层选择器前边：
```cpp
article {
  ~ article { border-top: 1px dashed #ccc }
  &gt; section { background: #eee }
  dl &gt; {
    dt { color: #333 }
    dd { color: #555 }
  }
  nav + &amp; { margin-top: 0 }
}</code></pre><p>sass会如你所愿地将这些嵌套规则一一解开组合在一起：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">article <span class="token operator">~</span> article <span class="token punctuation">{</span> border<span class="token operator">-</span>top<span class="token operator">:</span> 1px dashed #ccc <span class="token punctuation">}</span>
article <span class="token operator">></span> footer <span class="token punctuation">{</span> background<span class="token operator">:</span> #eee <span class="token punctuation">}</span>
article dl <span class="token operator">></span> dt <span class="token punctuation">{</span> color<span class="token operator">:</span> #<span class="token number">333</span> <span class="token punctuation">}</span>
article dl <span class="token operator">></span> dd <span class="token punctuation">{</span> color<span class="token operator">:</span> #<span class="token number">555</span> <span class="token punctuation">}</span>
nav <span class="token operator">+</span> article <span class="token punctuation">{</span> margin<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="嵌套属性"><a href="#嵌套属性" class="headerlink" title="嵌套属性;"></a>嵌套属性;</h3><p>在sass中，除了CSS选择器，属性也可以进行嵌套。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">nav <span class="token punctuation">{</span>
  border<span class="token operator">:</span> <span class="token punctuation">{</span>
  style<span class="token operator">:</span> solid<span class="token punctuation">;</span>
  width<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
  color<span class="token operator">:</span> #ccc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>嵌套属性的规则是这样的：把属性名从中划线-的地方断开，在根属性后边添加一个冒号:，紧跟一个{ }块，把子属性部分写在这个{ }块中。就像css选择器嵌套一样，sass会把你的子属性一一解开，把根属性和子属性部分通过中划线-连接起来，最后生成的效果与你手动一遍遍写的css样式一样：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">nav <span class="token punctuation">{</span>
  border<span class="token operator">-</span>style<span class="token operator">:</span> solid<span class="token punctuation">;</span>
  border<span class="token operator">-</span>width<span class="token operator">:</span> 1px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>color<span class="token operator">:</span> #ccc<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>对于属性的缩写形式，你甚至可以像下边这样来嵌套，指明例外规则：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">nav <span class="token punctuation">{</span>
  border<span class="token operator">:</span> 1px solid #ccc <span class="token punctuation">{</span>
  left<span class="token operator">:</span> 0px<span class="token punctuation">;</span>
  right<span class="token operator">:</span> 0px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="混合器"><a href="#混合器" class="headerlink" title="混合器;"></a>混合器;</h3><p>混合器使用@mixin标识符定义，这个标识符给一大段样式赋予一个名字，可以轻易地通过引用这个名字重用这段样式。</p>
<p>下边的这段sass代码，定义了一个非常简单的混合器，目的是添加跨浏览器的圆角边框。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">@mixin rounded<span class="token operator">-</span>corners <span class="token punctuation">{</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后就可以在样式表中通过@include来使用这个混合器。@include调用会把混合器中的所有样式提取出来放在@include被调用的地方。如果像下边这样写：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">notice <span class="token punctuation">{</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> green<span class="token punctuation">;</span>
  border<span class="token operator">:</span> 2px solid #00aa00<span class="token punctuation">;</span>
  @include rounded<span class="token operator">-</span>corners<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">//sass最终生成：</span>

<span class="token punctuation">.</span>notice <span class="token punctuation">{</span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> green<span class="token punctuation">;</span>
  border<span class="token operator">:</span> 2px solid #00aa00<span class="token punctuation">;</span>
  <span class="token operator">-</span>moz<span class="token operator">-</span>border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  <span class="token operator">-</span>webkit<span class="token operator">-</span>border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token operator">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>less及sass都支持混合器传参，具体内容参见参考文档 2、3</p>
</blockquote>
<h3 id="导入SASS文件"><a href="#导入SASS文件" class="headerlink" title="导入SASS文件;"></a>导入SASS文件;</h3><p>css有一个特别不常用的特性，即@import规则，它允许在一个css文件中导入其他css文件。然而，后果是只有执行到@import时，浏览器才会去下载其他css文件，这导致页面加载起来特别慢。<br>sass也有一个@import规则，但不同的是，sass的@import规则在生成css文件时就把相关文件导入进来。这意味着所有相关的样式被归纳到了同一个css文件中，而无需发起额外的下载请求。</p>
<blockquote>
<p>使用sass的@import规则并不需要指明被导入文件的全名。你可以省略.sass或.scss文件后缀</p>
</blockquote>
<p>使用SASS部分文件<br>当通过@import把sass样式分散到多个文件时，你通常只想生成少数几个css文件。那些专门为@import命令而编写的sass文件，并不需要生成对应的独立css文件，这样的sass文件称为局部文件。<br>sass局部文件的文件名以下划线开头。这样，sass就不会在编译时单独编译这个文件输出css<br>默认变量值;<br>!default用于变量，含义是：如果这个变量被声明赋值了，那就用它声明的值，否则就用这个默认值。</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">$fancybox<span class="token operator">-</span>width<span class="token operator">:</span> 400px <span class="token operator">!</span><span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span>fancybox <span class="token punctuation">{</span>
width<span class="token operator">:</span> $fancybox<span class="token operator">-</span>width<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>在上例中，如果用户在导入你的sass局部文件之前声明了一个$fancybox-width变量，那么你的局部文件中对$fancybox-width赋值400px的操作就无效。如果用户没有做这样的声明，则$fancybox-width将默认为400px。</p>
<h2 id="相同与差异"><a href="#相同与差异" class="headerlink" title="相同与差异"></a>相同与差异</h2><h3 id="相同之处："><a href="#相同之处：" class="headerlink" title="相同之处："></a>相同之处：</h3><p>Less和Sass在语法上有些共性，比如下面这些：<br>1、混入(Mixins)——class中的class；<br>2、参数混入——可以传递参数的class，就像函数一样；<br>3、嵌套规则——Class中嵌套class，从而减少重复的代码；<br>4、运算——CSS中用上数学；<br>5、颜色功能——可以编辑颜色；<br>6、名字空间(namespace)——分组样式，从而可以被调用；<br>7、作用域——局部修改样式；<br>8、JavaScript 赋值——在CSS中使用JavaScript表达式赋值。</p>
<h3 id="不同之处："><a href="#不同之处：" class="headerlink" title="不同之处："></a>不同之处：</h3><table>
<thead>
<tr>
<th align="left">类别</th>
<th align="left">Sass</th>
<th align="left">less</th>
</tr>
</thead>
<tbody><tr>
<td align="left">环境</td>
<td align="left">dart或其他</td>
<td align="left">基于javascript，可以运行在 Node 或浏览器端</td>
</tr>
<tr>
<td align="left">使用</td>
<td align="left">复杂</td>
<td align="left">简单(相对而言)</td>
</tr>
<tr>
<td align="left">功能</td>
<td align="left">复杂</td>
<td align="left">简单(相对而言)</td>
</tr>
<tr>
<td align="left">处理机制</td>
<td align="left">服务端处理</td>
<td align="left">可以运行在 Node 或浏览器端</td>
</tr>
<tr>
<td align="left">变量</td>
<td align="left">以 $ 开头</td>
<td align="left">以 @ 开头</td>
</tr>
<tr>
<td align="left">文件后缀</td>
<td align="left">.sass 或. scss</td>
<td align="left">.less</td>
</tr>
</tbody></table>
<blockquote>
<p>目前大部分的实现都是随着前端项目一起打包构建，只在学习或演示的时候才区分使用环境，所以不用在意处理机制，以上只是单纯的对比两者本身。</p>
</blockquote>
<blockquote>
<p>请不要忘记Dart Sass，它快速，易于安装，并且可以编译为纯JavaScript，从而可以轻松集成到现代Web开发工作流中。</p>
</blockquote>
<ul>
<li>在Less中，仅允许循环数值。<br>在Sass中，我们可以遍历任何类型的数据。但在Less中，我们只能使用递归函数循环数值。</li>
</ul>
<ul>
<li>条件语句<br>Less 中并不支持条件语句，当然，可以通过内置函数 if 以及 and，or，not 这些来模拟条件语句。<br>在 Sass 中是支持条件语句的，但也不是像其他编程语言直接 if 这样通过保留字来编写，需要加个 @ 符号</li>
</ul>
<ul>
<li>框架-<br>sass框架谁有空可以在评论区补充一下<h3 id="用哪个？"><a href="#用哪个？" class="headerlink" title="用哪个？"></a>用哪个？</h3>不知道～</li>
</ul>
<p>LESS环境较Sass简单<br>LESS使用较Sass简单，大概？<br>相对而言，国内前端团队使用LESS的同学会略多于Sass<br>从功能出发，Sass较LESS略强大一些<br>Sass在市面上有一些成熟的框架，比如说Compass，而且有很多框架也在使用Sass，比如说Foundation<br>就国外讨论的热度来说，Sass绝对优于LESS<br>就学习教程来说，Sass的教程要优于LESS(本身来说，less官方文档也够用了)。</p>

            </div>
            <hr />

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">写作不易，客官能否打赏一杯奶茶？</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/zfb.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wx.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《2020年前端面试复习必读精选文章(2)》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/10/29/sort-algorithms2/" property="cc:attributionName"
               rel="cc:attributionURL">
                亚文
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '4zCfvoEqb1I4fRk4xSmLoV9E-gzGzoHsz',
        appKey: 'aJb7rQyEW4v05nAQbPLK4KOG',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/10/30/sort-algorithms3/">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="2020年前端面试复习必读精选文章(3)">
                        
                        <span class="card-title">2020年前端面试复习必读精选文章(3)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            2020年前端面试复习必读精选文章(3)。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-10-30
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/前端/" class="post-category" target="_blank">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/web前端/" target="_blank">
                        <span class="chip bg-color">web前端</span>
                    </a>
                    
                    <a href="/tags/面试/" target="_blank">
                        <span class="chip bg-color">面试</span>
                    </a>
                    
                    <a href="/tags/vue/" target="_blank">
                        <span class="chip bg-color">vue</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/10/28/sort-algorithms/">
                    <div class="card-image">
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="2020年前端面试复习必读精选文章(1)">
                        
                        <span class="card-title">2020年前端面试复习必读精选文章(1)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            2020年前端面试复习必读精选文章(1)。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-10-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/前端/" class="post-category" target="_blank">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/web前端/" target="_blank">
                        <span class="chip bg-color">web前端</span>
                    </a>
                    
                    <a href="/tags/面试/" target="_blank">
                        <span class="chip bg-color">面试</span>
                    </a>
                    
                    <a href="/tags/js/" target="_blank">
                        <span class="chip bg-color">js</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 亚文的博客<br />'
            + '作者: 亚文<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2021-2025 WeiYang. 版权所有

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">65.2k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/yawen621" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:lufei1040113289@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="https://zhihu.com/people/yuan-yuan-86-8-45" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-inverse">知</i>
    </a>



    <a href="http://wpa.qq.com/msgrd?v=3&uin=1040113289&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="https://weibo.com/7146406053" class="tooltipped" target="_blank" data-tooltip="关注我的微博" data-position="top" data-delay="50">
        <i class="fa fa-weibo"></i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 80000;
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2020, 10, 1, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"react":{"opacity":0.7}});</script></body>

</html>